\section{More on Cosets and Lagrange's Theorem}

Let $G$ be a group.

\Exercise1 Which of the following are permissible orders for subgroups
of a group of order $120$: $1$, $2$, $5$, $7$, $9$, $15$, $60$, $240$?
For each permissible order give the corresponding index.
\begin{solution}
  The permissible orders are $1$, $2$, $5$, $15$, and $60$. The other
  orders do not divide $120$ and so by Lagrange's Theorem are not
  possible.

  The subgroup of order $1$ would have index $120$, the subgroup of
  order $2$ would have index $60$, the subgroup of order $5$ would
  have index $24$, the subgroup with order $15$ would have index $8$,
  and the subgroup of order $60$ would have index $2$.
\end{solution}

\Exercise2 Prove that the lattice of subgroups of $S_3$ in Section~2.5
is correct (i.e., prove that it contains all subgroups of $S_3$ and
that their pairwise joins and intersections are correctly drawn).
\begin{proof}
  The subgroups contained in the lattice are $1$, $\gen{(1\,2)}$,
  $\gen{(1\,3)}$, $\gen{(2\,3)}$, $\gen{(1\,2\,3)}$, and $S_3$
  itself. Since $\ord{S_3} = 6$, any nontrivial subgroups must have
  order $2$ or $3$. Since $\gen{(1\,2\,3)} = \gen{(1\,3\,2)}$, all
  cyclic subgroups are accounted for.

  Now suppose $S_3$ has a non-cyclic proper subgroup $H$. Say $H$ is
  generated by $\sigma$ and $\tau$. Then $\ord{H} = 3$ and
  $H = \{1, \sigma, \tau\}$. But $\ord{\sigma}$ must divide $\ord{H}$,
  so $\ord{\sigma} = 3$. Then $\sigma$ and $\sigma^2$ are distinct,
  and we must have $\tau = \sigma^2$. Hence $H$ is not cyclic, a
  contradiction. This shows that all proper subgroups of $S_3$ are
  cyclic. Therefore all subgroups are present in the lattice.

  Note that the subgroups of order $2$ cannot themselves be subgroups
  of $\gen{(1\,2\,3)}$, since $2\nmid3$. Therefore every nontrivial
  subgroup is maximal, and the lattice is correct.
\end{proof}

\Exercise3 Prove that the lattice of subgroups of $Q_8$ in Section~2.5
is correct.
\begin{proof}
  By Lagrange's Theorem the possible subgroups of $Q_8$ have orders
  $1$, $2$, $4$, and $8$. So every nontrivial subgroup has order $2$
  or $4$. The only element of $Q_8$ having order $2$ is $-1$, so
  $\gen{-1}$ is the only possible subgroup with that order. Every
  other nonidentity element has order $4$. The only subgroups of order
  $4$ are $\gen{i}$, $\gen{j}$, and $\gen{k}$, since all elements of
  $Q_8$ belong to one of these subgroups.

  $\gen{-1}$ is contained in each of $\gen{i}$, $\gen{j}$, and
  $\gen{k}$, and the latter three are maximal by Lagrange. Therefore
  the lattice is correct.
\end{proof}

\Exercise4 Show that if $\ord{G} = pq$ for some primes $p$ and $q$
(not necessarily distinct) then either $G$ is abelian or $Z(G) = 1$.
\begin{proof}
  Let $G$ be as stated. If $G$ is abelian, there is nothing left to
  prove, so suppose $G$ is not abelian. Then $Z(G)$ is proper. By
  Lagrange, there are only three possibilities for the order of
  $Z(G)$: the order is either $1$, $p$, or $q$.

  Now assume that $Z(G)$ is not trivial. Then without loss of
  generality we may suppose that $\ord{Z(G)} = p$. Since the center of
  a group is always normal, we may consider the quotient group
  $G/Z(G)$. Again by Lagrange, we have
  \begin{equation*}
    \ord{G/Z(G)} = \frac{\ord{G}}{\ord{Z(G)}} = \frac{pq}p = q.
  \end{equation*}
  Now, $q$ is prime, so we may apply Corollary~10 to conclude that
  $G/Z(G)$ is cyclic. Then by
  Exercise~\ref{exercise:quotient-group:center-quotient-cyclic}, it
  follows that $G$ is abelian, which is a contradiction. Therefore
  $Z(G)$ is the trivial subgroup, and the proof is complete.
\end{proof}

\Exercise5 Let $H$ be a subgroup of $G$ and fix some element $g\in G$.
\begin{enumerate}
\item Prove that $gHg^{-1}$ is a subgroup of $G$ of the same order as
  $H$.
  \begin{proof}
    $1\in gHg^{-1}$, so $gHg^{-1}$ is nonempty. Let
    $x,y\in gHg^{-1}$. Then $x = gh_1g^{-1}$ and $y = gh_2g^{-1}$
    for some $h_1,h_2\in H$. We have
    \begin{align*}
      xy^{-1} &= (gh_1g^{-1})(gh_2g^{-1})^{-1} \\
              &= (gh_1g^{-1})(gh_2^{-1}g^{-1}) \\
              &= gh_1(g^{-1}g)h_2^{-1}g^{-1} \\
              &= gh_1h_2^{-1}g^{-1} \in gHg^{-1}.
    \end{align*}
    By the subgroup criterion, $gHg^{-1}\leq G$.

    Now define the map $\varphi\colon H\to gHg^{-1}$ by
    $\varphi(h) = ghg^{-1}$. Then $\varphi$ is clearly surjective. It
    is also injective, since $gh_1g^{-1} = gh_2g^{-1}$ implies that
    $h_1 = h_2$ by the left and right cancellation laws. This shows
    that $\ord{H} = \ord{gHg^{-1}}$ (in fact they are isomorphic).
  \end{proof}
\item Deduce that if $n\in\Z^+$ and $H$ is the unique subgroup of $G$
  of order $n$ then $H\trianglelefteq G$.
  \begin{proof}
    For any $g\in G$, we know from the above that $gHg^{-1}\leq G$ and
    that $\ord{gHg^{-1}} = \ord{H} = n$. Since $H$ is the only
    subgroup of $G$ with order $n$, it follows that $H =
    gHg^{-1}$. Since this is true for every $g\in G$,
    $H\trianglelefteq G$ by definition.
  \end{proof}
\end{enumerate}

\Exercise6 Let $H\leq G$ and let $g\in G$. Prove that if the right
coset $Hg$ equals {\em some} left coset of $H$ in $G$ then it equals
the left coset $gH$ and $g$ must be in $N_G(H)$.
\begin{proof}
  Suppose $Hg = aH$ for some $a\in G$. Since $g\in Hg$, we have
  $g\in aH$. Since the (right) cosets of $H$ form a partition of $G$
  (Proposition~4), this implies that $aH = gH$. Therefore $Hg = gH$
  and $g\in N_G(H)$.
\end{proof}

\Exercise7 Let $H\leq G$ and define a relation $\sim$ on $G$ by
\begin{equation*}
  a\sim b \quad\text{if and only if}\quad b^{-1}a\in H.
\end{equation*}
Prove that $\sim$ is an equivalence relation and describe the
equivalence class of each $a\in G$. Use this to prove Proposition~4.
\begin{proof}
  For any $a\in G$, we certainly have $a^{-1}a = 1\in H$, so $a\sim a$
  and $\sim$ is reflexive. If $a\sim b$ for $a,b\in G$ then, since $H$
  must be closed under inverses, we have
  $a^{-1}b = (b^{-1}a)^{-1} \in H$ so that $b\sim a$, and $\sim$ is
  symmetric. Lastly, if $a\sim b$ and $b\sim c$ for $a,b,c\in G$, then
  \begin{equation*}
    c^{-1}a
    = c^{-1}(bb^{-1})a
    = (c^{-1}b)(b^{-1}a) \in H,
  \end{equation*}
  so $a\sim c$ and we see that $\sim$ is transitive. This shows that
  $\sim$ is an equivalence relation.

  Note that the equivalence classes of $\sim$ form a partition of $G$
  (see Proposition~2 of Section~0.1). It is not difficult to see that
  $a\sim b$ if and only if $a$ and $b$ belong to the same left coset
  of $H$. Therefore the left cosets of $H$ form a partition of $G$,
  providing an alternative proof for Proposition~4.
\end{proof}

\Exercise8 Prove that if $H$ and $K$ are finite subgroups of $G$ whose
orders are relatively prime then $H\cap K = 1$.
\begin{proof}
  Let $H$ and $K$ be as stated, and let $n = \ord{H\cap K}$. We know
  that the intersection of two subgroups is a subgroup, so
  $H\cap K\leq H$. By Lagrange's Theorem, $n$ must divide
  $\ord{H}$. But $H\cap K\leq K$ also, so $n$ must divide
  $\ord{K}$. And since $\ord{H}$ and $\ord{K}$ have no common divisor
  other than $1$, we must have $n = 1$. Therefore $H\cap K$ is the
  trivial subgroup.
\end{proof}

\Exercise9 Let $G$ be a finite group and let $p$ be a prime dividing
$\ord{G}$. Let $\mathcal{S}$ denote the set of $p$-tuples of elements
of $G$ the product of whose coordinates is $1$:
\begin{equation*}
  \mathcal{S} = \{(x_1,x_2,\dots,x_p) \mid
  \text{$x_i\in G$ and $x_1x_2\cdots x_p = 1$}\}.
\end{equation*}
\begin{enumerate}
\item Show that $\mathcal{S}$ has $\ord{G}^{p-1}$ elements, hence has
  order divisible by $p$.
  \begin{proof}
    Let $\mathcal{T}$ be the set of all $(p-1)$-tuples of elements of
    $G$. Then $\mathcal{T}$ has $\ord{G}^{p-1}$ elements. We show that
    $\mathcal{S}$ and $\mathcal{T}$ share the same cardinality.

    Define $\varphi\colon\mathcal{T}\to\mathcal{S}$ by
    \begin{equation*}
      \varphi(x_1,x_2,\dots,x_{p-1})
      = (x_1,x_2,\dots,x_{p-1},(x_1x_2\cdots x_{p-1})^{-1}).
    \end{equation*}
    Given two elements $\alpha,\beta\in\mathcal{S}$, if
    $\alpha = \beta$ then clearly their first $p-1$ coordinates must
    be equal, so $\mathcal{T}$ is injective. Now suppose
    $\alpha\in\mathcal{S}$. Then the image of the first $p-1$
    coordinates of $\alpha$ under $\mathcal{T}$ must be $\alpha$,
    since the last coordinate is completely determined by the others
    (group inverses are unique). Therefore $\varphi$ is a bijection,
    so $\ord{\mathcal{S}} = \ord{\mathcal{T}} = \ord{G}^{p-1}$.
  \end{proof}
\end{enumerate}
Define the relation $\sim$ on $\mathcal{S}$ by letting
$\alpha\sim\beta$ if $\beta$ is a cyclic permutation of $\alpha$.
\begin{enumerate}
  \setcounter{enumi}1
\item Show that a cyclic permutation of an element of $\mathcal{S}$ is
  again an element of $\mathcal{S}$.
  \begin{proof}
    Let $\alpha = (x_1,x_2,\dots,x_p)\in\mathcal{S}$. Then
    $x_1x_2\cdots x_p = 1$. Multiplying on the left by $x_p$ and then
    on the right by $x_p^{-1}$ gives
    \begin{equation*}
      x_px_1x_2\cdots x_{p-1} = x_px_p^{-1} = 1.
    \end{equation*}
    Therefore $(x_p,x_1,x_2,\dots,x_{p-1})\in\mathcal{S}$. We may
    repeat this process $p-1$ times to see that all cyclic
    permutations of $\alpha$ are in $\mathcal{S}$.
  \end{proof}
\item Prove that $\sim$ is an equivalence relation on $\mathcal{S}$.
  \begin{proof}
    Let $\alpha,\beta,\gamma\in\mathcal{S}$ be arbitrary. $\alpha$ is
    a cyclic permutation of itself (namely the identity permutation),
    so $\alpha\sim\alpha$ and $\sim$ is reflexive.

    If $\alpha\sim\beta$ then $\beta$ is a cyclic permutation of
    $\alpha$, so by taking the inverse of this permutation we see that
    $\alpha$ is a cyclic permutation of $\beta$. Therefore
    $\beta\sim\alpha$, and $\sim$ is symmetric.

    Lastly, if $\alpha\sim\beta$ and $\beta\sim\gamma$ then $\gamma$
    is a cyclic permutation of $\beta$ and $\beta$ is a cyclic
    permutation of $\alpha$, and by taking the composition of these
    two permutations we see that $\gamma$ is a cyclic permutation of
    $\alpha$, so that $\alpha\sim\gamma$. Thus $\sim$ is transitive
    and the proof is complete.
  \end{proof}
\item Prove that an equivalence class contains a single element if and
  only if it is of the form $(x,x,\dots,x)$ with $x^p = 1$.
  \begin{proof}
    Take any $\alpha\in\mathcal{S}$ and let $[\alpha]$ denote the
    equivalence class containing $\alpha$.

    First, if $\alpha$ is the only element in $[\alpha]$, then all
    cyclic permutations of $\alpha$ must be the same. This is not
    possible unless all coordinates of $\alpha$ are the same. So
    $\alpha$ has the form $(x,x,\dots,x)$, where $x^p = 1$.

    Conversely, if $\alpha$ has the form $(x,x,\dots,x)$ with all
    coordinates the same, then every cyclic permutation of $\alpha$
    will leave $\alpha$ unchanged. Therefore $[\alpha]$ contains only
    the one element.
  \end{proof}
\item Prove that every equivalence class has order $1$ or $p$ (this
  uses the fact that $p$ is a {\em prime}). Deduce that
  $\ord{G}^{p-1} = k + pd$, where $k$ is the number of classes of size
  $1$ and $d$ is the number of classes of size $p$.
  \begin{proof}
    Again, let $\alpha\in\mathcal{S}$ with $[\alpha]$ denoting the
    corresponding equivalence class, and let
    \begin{equation*}
      \alpha = (x_1,x_2,\dots,x_p),
    \end{equation*}
    with the $x_i$'s not necessarily distinct. Suppose $[\alpha]$
    contains exactly $n$ members. Then $1\leq n\leq p$. For all
    $k\in\Z$, we must have
    \begin{equation}
      \label{eq:quotient-group:cauchy:cond-for-xi-eq-xj}
      x_i = x_j
      \quad\text{whenever}\quad
      i + kn \equiv j \pmod{p},
    \end{equation}
    since $\alpha$ can only be cycled $n$ times before arriving back
    at itself.

    Now there are two cases, either $n = p$ or $1\leq n<p$. In the
    first case there is nothing left to prove, so assume $1\leq
    n<p$. Then $(n,p) = 1$ since $p$ is prime. So by
    Exercise~\ref{exercise:prelim:z-mod-nz-cross}, we know that $n$
    has a multiplicative inverse, $n^{-1}$, modulo $p$. Then, taking
    $k = n^{-1}$, \eqref{eq:quotient-group:cauchy:cond-for-xi-eq-xj}
    tells us that $x_i = x_j$ whenever $i+1\equiv
    j\pmod{p}$. Therefore $x_{i+1} = x_i$ for all $i$ with
    $1\leq i<p$, and $x_1 = x_p$. But then every coordinate of
    $\alpha$ is the same, so $[\alpha]$ has only one member. Hence
    $n = 1$ in this case.

    We have shown that if $[\alpha]$ has exactly $n$ elements, then
    $n = 1$ or $n = p$. Since the equivalence classes partition
    $\mathcal{S}$, we see that
    \begin{equation*}
      \ord{G}^{p-1} = \ord{\mathcal{S}} = k + pd,
    \end{equation*}
    where $k$ is the number of classes of size $1$ and $d$ is the
    number of classes of size $p$.
  \end{proof}
\item Since $\{(1,1,\dots,1)\}$ is an equivalence class of size $1$,
  conclude from (e) that there must be a nonidentity element $x$ in
  $G$ with $x^p = 1$, i.e., $G$ contains an element of order $p$.
  \begin{proof}
    Since $p$ divides $\ord{G}$, it certainly divides
    $\ord{G}^{p-1}$. So $p\mid(k + pd)$. But this implies that
    $p\mid k$. Therefore $k > 1$, so there must be more than one
    equivalence class of $\sim$ having only one element. One of these
    must be of the form $(x,x,\dots,x)$ where $x$ is not the identity
    of $G$. Therefore this $x$ is such that $x^p = 1$, so $\ord{x}$
    divides $p$. We know $x$ is not the identity, so $\ord{x} = p$.
  \end{proof}
\end{enumerate}
